# 项目描述
这里写下简要的思路：
不管用什么语言或这技术框架实现，对于数据处理的步骤应该是大同小异，因此有什么思路或者流程在下面的文档里补充。

--------------------------------
## 第一部分，数据的预处理

原始数据的格式为：
<用户编号、新闻编号、浏览时间（精确到秒）以及新闻标题，新闻文本内容，新闻发布时间>

观察可以看到，原始数据包含的新闻标题，文本内容有大量重复，有很多冗余，所以我们对原始训练数据进行拆分，然后进行分词和聚类。下面为步骤：
*  原始数据简化为：<用户id，新闻id，点击时间>
*  统计形成一个所有新闻的列表，包含：<新闻id，新闻标题，新闻内容，发表时间>
*  用TF.IDF 算法给新闻列表数据提取关键词，新闻列表的格式变为：<新闻id，新闻标题+内容的关键词（set[keywords:weight]），发表时间>
*  统计所有新闻中的关键词，形成一个关键词的哈希表： <hash(关键词)，关键词>
*  用哈希值替换新闻列表中的关键词，新闻列表的格式变为：<新闻id，新闻标题关键词+内容关键词列表（set[hash(keyword):weight]） ），发表时间>
*  对用户打标签，用户表简化为：<用户id，关键词表（hashset），浏览时间段（分布）> 。 其中的关键词带了权重，其权重值为用户浏览过的历史的关键词权重的和。
*  由于用户的浏览新闻的行为和内容是时间相关的，因此简单的对用户的浏览关键词权重相加是不准确的，所以，我们在这里可以考虑引入对关键词的权重引入“半衰期”的概念，即用户浏览一些关键词每过去一段时间，该关键词的权重衰减一半。这样或许可以更准确的表达时间相关的问题。

## 第二部分 给定一些新闻，如何向用户推荐
假设场景：一个用户来访问，我们的系统可以知道这个用户的id，关键词表和过去的浏览时间段。 然后有一堆候选的新闻，把这些新闻推荐给用户，需要把这些新闻应该以相关性排序。展示给用户前10条。

推荐相关性算法顺序如下：

1.根据用户当前访问所处的时间段，动态修正用户的关键词列表的权值，如果该关键词在当前的时间段内，则该关键词权重增加10%

2.对比用户的关键词-权重列表 和 备选的每一条新闻的 关键词-权重 列表：

* 计算两者间相同的关键词的数量N，计算两者间不同的关键词数量M
* 计算两者之间相同的关键词的权重的总和 S1= Sum(Weight(n)) ,以及所有不同的关键词的权重总和 S2= Sum(Weight(m))
* 计算两者之间的相关性Re = S1/S1+S2
* 计算所有的被选新闻和用户之间的相关性Re， 根据相关性排序，取前10条新闻。

3.如果用户浏览了某一条新闻，则根据该新闻的关键词列表，更新一次用户的关键词列表。过程如第一部分所写的【给用户打标签】流程。
